

# ğŸ«€ XAI-Heart â€” Explainable Clinical Cardiac Decision Support

[Live Demo](https://xai-heart.streamlit.app/)

A **multimodal explainable clinical decision support system** for cardiac risk assessment that integrates deep learning, clinical modeling, interpretable AI, and OCRâ€“based report verification.

---

## ğŸš€ Overview

XAI-Heart is an AI system designed to assist cardiac screening by combining:

- Deep learning ECG interpretation
- Clinical risk modeling
- Explainable AI (SHAP, LIME, PDP, GradCAM)
- Automatic medical report (OCR) extraction
- Second-opinion verification against uploaded medical documents

It is built with **Streamlit** and supports:
- `.npy` ECG waveform prediction
- User-friendly sliders for clinical inputs
- PDF report generation with visual explanations
- Upload and interpretation of hospital reports

---

## ğŸ§  Key Features

### ğŸ©º Multimodal Prediction

- **ECG Analysis** via Convolutional Neural Network
- **Clinical Risk Prediction** via XGBoost
- **Fusion Decision** combining ECG & clinical features

### ğŸ“Œ Explainability

- **GradCAM**: highlights ECG regions important to prediction
- **SHAP**: global feature impact on clinical risk
- **LIME**: local explanation for individual prediction
- **PDP**: population behavior visualization

These visual explanations are saved and embedded in autogenerated clinical reports.

### ğŸ“„ Report Generation

Generates shareable medical reports (PDF) that include:

- Risk score  
- Risk category  
- ECG attention map  
- SHAP, LIME, PDP plots

---

## ğŸ“ OCR Second Opinion

Upload a hospital ECG or clinical report (PDF/image) to extract text and interpret clinical meaning. The app:

- Extracts text using **Tesseract OCR**
- Parses ECG findings using medical keywords
- Compares document interpretation with AI model prediction
- Flags agreement or discrepancy

---

## ğŸ“¦ Live Demo

ğŸ‘‰ https://xai-heart.streamlit.app/

Try it with:
- A `.npy` ECG file
- Adjust clinical sliders
- Generate the clinical report
- Upload a hospital report for OCR validation

---

## ğŸ›  Architecture & Tools

| Component | Library |
|-----------|---------|
| UI & Deployment | Streamlit |
| Deep Learning ECG | TensorFlow |
| Clinical Model | XGBoost |
| Explainability | SHAP, LIME, custom PDP |
| OCR | Tesseract + pdf2image |
| PDF Reports | ReportLab |
| GitHub Repo | https://github.com/kuppireddybhageerathareddy1110/xai-heart |

---

## ğŸ“¥ Installation (Local)

1. Clone repository:

```bash
git clone https://github.com/kuppireddybhageerathareddy1110/xai-heart.git
cd xai-heart
````

2. Create Python environment:

```bash
python3 -m venv venv
source venv/bin/activate
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

4. Install system OCR support (Linux):

```bash
sudo apt update
sudo apt install tesseract-ocr poppler-utils
```

5. Run app:

```bash
streamlit run app.py
```

---

## ğŸ“Œ Usage

### ğŸ§¾ ECG Analysis

Upload a `.npy` ECG signal file. The model will compute an ECG risk score with an attention map.

### ğŸ‘¨â€âš•ï¸ Clinical Input

Adjust sliders for age, cholesterol, exercise angina, ST depression, etc. These feed into a clinical risk model.

### ğŸ“Š Explainability

Interactive SHAP, LIME, and PDP visual explanations show how features influence the clinical risk model.

### ğŸ“„ Report Generation

After final decision is computed:

âœ” Generate a detailed clinical PDF
âœ” Download for clinical documentation

### ğŸ“¤ Upload Hospital Report

Upload a scanned/typed clinical report. The system will:

* Extract text
* Attempt clinical interpretation
* Compare to AI predictions

---

## ğŸ§· Notes & Tips

* **OCR requires Tesseract and Poppler installed** on the server
* For deployment, use `opencv-python-headless` to avoid OpenCV GUI issues
* Generated images (`*.png`) and PDF outputs should be excluded from GitHub via `.gitignore`

---

## ğŸ“‚ .gitignore Example

```gitignore
venv/
*.png
*.pdf
__pycache__/
*.pyc
```

---

## ğŸ“¢ Research Use & Disclaimer

This project is intended as a decision support system prototype. It is NOT a substitute for clinician judgment or medical diagnosis. Always review AI output with clinical expertise.

---

## â¤ï¸ Contributors

* **Kuppireddy Bhageeratha Reddy** â€” main developer


